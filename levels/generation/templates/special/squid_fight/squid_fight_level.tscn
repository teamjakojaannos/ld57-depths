[gd_scene load_steps=11 format=4 uid="uid://bchdxhibo8f0g"]

[ext_resource type="Script" uid="uid://bk218myvtqqan" path="res://levels/generation/templates/special/squid_fight/squid_fight_level.gd" id="1_hb6gp"]
[ext_resource type="TileSet" uid="uid://b7l7ni8f711eg" path="res://levels/generation/tiles.tres" id="1_i0yvx"]
[ext_resource type="PackedScene" uid="uid://cp6d8v6a3w12h" path="res://fish/squid/squid_boss.tscn" id="4_iioni"]
[ext_resource type="Script" uid="uid://drwl4kjkix38c" path="res://boss/squid/squid_boss.gd" id="4_mb7w1"]
[ext_resource type="Script" uid="uid://dc6vhyynq1mq8" path="res://characters/health.gd" id="4_oldw0"]
[ext_resource type="Script" uid="uid://5fp57vk4c4a3" path="res://characters/hitbox.gd" id="5_lh1f8"]
[ext_resource type="Script" uid="uid://oehys4qgdurh" path="res://boss/squid/tentacles.gd" id="6_lh1f8"]
[ext_resource type="PackedScene" uid="uid://cralgksc31h64" path="res://fish/squid/tentacle.tscn" id="7_oldw0"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_oldw0"]
size = Vector2(26, 48)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lh1f8"]
size = Vector2(26, 88)

[node name="LevelPart" type="Node2D"]
script = ExtResource("1_hb6gp")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD9//b/AAAEAAQAAAD+//b/AAAFAAQAAAD///b/AAAFAAQAAAAAAPb/AAAGAAQAAAABAPb/AAAGAAQAAAACAPb/AAAHAAQAAADx/wAAAAADAAYAAADy/wAAAAAEAAYAAADz/wAAAAAHAAYAAAD0/wAAAAAIAAYAAAALAAAAAAADAAYAAAAMAAAAAAAEAAYAAAANAAAAAAAHAAYAAAAOAAAAAAAIAAYAAAD3//z/AAADAAYAAAD4//z/AAAEAAYAAAD5//z/AAAFAAYAAAD6//z/AAAGAAYAAAD7//z/AAAHAAYAAAD8//z/AAAIAAYAAAADAPz/AAADAAYAAAAEAPz/AAAEAAYAAAAFAPz/AAAFAAYAAAAGAPz/AAAGAAYAAAAHAPz/AAAHAAYAAAAIAPz/AAAIAAYAAADx//f/AAADAAYAAADy//f/AAAEAAYAAADz//f/AAAFAAYAAAD0//f/AAAGAAYAAAD1//f/AAAHAAYAAAD2//f/AAAIAAYAAAAJAPf/AAADAAYAAAAKAPf/AAAEAAYAAAALAPf/AAAFAAYAAAAMAPf/AAAGAAYAAAANAPf/AAAHAAYAAAAOAPf/AAAIAAYAAAACAPX/AAAHAAMAAAABAPX/AAAGAAMAAAAAAPX/AAAFAAMAAAD///X/AAAGAAMAAAD+//X/AAAGAAMAAAD9//X/AAAEAAMAAAA=")
tile_set = ExtResource("1_i0yvx")

[node name="SquidBoss" parent="." instance=ExtResource("4_iioni")]
position = Vector2(0, -32)
script = ExtResource("4_mb7w1")

[node name="Health" type="Node" parent="SquidBoss"]
script = ExtResource("4_oldw0")
max_health = 10000.0
metadata/_custom_type_script = "uid://dc6vhyynq1mq8"

[node name="HitboxFace" type="Area2D" parent="SquidBoss" node_paths=PackedStringArray("health")]
position = Vector2(0, 32)
collision_layer = 4
collision_mask = 0
script = ExtResource("5_lh1f8")
health = NodePath("../Health")
multiplier = 100
metadata/_custom_type_script = "uid://5fp57vk4c4a3"

[node name="Shape" type="CollisionShape2D" parent="SquidBoss/HitboxFace"]
position = Vector2(3, 8)
shape = SubResource("RectangleShape2D_oldw0")

[node name="Hitbox" type="Area2D" parent="SquidBoss" node_paths=PackedStringArray("health")]
position = Vector2(0, 32)
collision_layer = 4
collision_mask = 0
script = ExtResource("5_lh1f8")
health = NodePath("../Health")
multiplier = 75
metadata/_custom_type_script = "uid://5fp57vk4c4a3"

[node name="Shape" type="CollisionShape2D" parent="SquidBoss/Hitbox"]
position = Vector2(1, -60)
rotation = -0.0683107
shape = SubResource("RectangleShape2D_lh1f8")

[node name="Tentacles" type="Node2D" parent="."]
script = ExtResource("6_lh1f8")

[node name="Tentacle" parent="Tentacles" instance=ExtResource("7_oldw0")]
position = Vector2(-208, 48)
rotation = -1.5708
is_vertical = true

[node name="Tentacle2" parent="Tentacles" instance=ExtResource("7_oldw0")]
position = Vector2(-96, 48)
rotation = -1.5708
is_vertical = true

[node name="Tentacle3" parent="Tentacles" instance=ExtResource("7_oldw0")]
position = Vector2(96, 48)
rotation = -1.5708
scale = Vector2(1, -1)
is_vertical = true

[node name="Tentacle4" parent="Tentacles" instance=ExtResource("7_oldw0")]
position = Vector2(208, 48)
rotation = -1.5708
scale = Vector2(1, -1)
is_vertical = true

[node name="Tentacle5" parent="Tentacles" instance=ExtResource("7_oldw0")]
position = Vector2(288, -16)
rotation = 3.14159
scale = Vector2(1, -1)

[node name="Tentacle6" parent="Tentacles" instance=ExtResource("7_oldw0")]
position = Vector2(-304, -48)

[node name="Tentacle7" parent="Tentacles" instance=ExtResource("7_oldw0")]
position = Vector2(288, -160)
rotation = 3.14159
scale = Vector2(1, -1)

[node name="Tentacle8" parent="Tentacles" instance=ExtResource("7_oldw0")]
position = Vector2(-304, -208)

[node name="HAttackTimer" type="Timer" parent="."]
wait_time = 10.0
one_shot = true
autostart = true

[node name="VAttackTimer" type="Timer" parent="."]
wait_time = 2.0
one_shot = true
autostart = true

[connection signal="hurt_at" from="SquidBoss/Health" to="SquidBoss" method="_on_health_hurt_at"]
[connection signal="timeout" from="HAttackTimer" to="." method="_on_h_attack_timer_timeout"]
[connection signal="timeout" from="VAttackTimer" to="." method="_on_v_attack_timer_timeout"]
